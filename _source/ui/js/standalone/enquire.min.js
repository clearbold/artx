// enquire.js v2.0.2 - Awesome Media Queries in JavaScript
// Copyright (c) 2013 Nick Williams - http://wicky.nillia.ms/enquire.js
// License: MIT (http://www.opensource.org/licenses/mit-license.php)
(function(e){"use strict";function n(e,t){var n=0,r=e.length,i;for(n;n<r;n++){i=t(e[n],n);if(i===!1)break}}function r(e){return Object.prototype.toString.apply(e)==="[object Array]"}function i(e){return typeof e=="function"}function s(e){this.options=e;!e.deferSetup&&this.setup()}function o(e,n){this.query=e;this.isUnconditional=n;this.handlers=[];this.mql=t(e);var r=this;this.listener=function(e){r.mql=e;r.assess()};this.mql.addListener(this.listener)}function u(){if(!t)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={};this.browserIsIncapable=!t("only all").matches}var t=e.matchMedia;s.prototype={setup:function(){this.options.setup&&this.options.setup();this.initialised=!0},on:function(){!this.initialised&&this.setup();this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}};o.prototype={addHandler:function(e){var t=new s(e);this.handlers.push(t);this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;n(t,function(n,r){if(n.equals(e)){n.destroy();return!t.splice(r,1)}})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){n(this.handlers,function(e){e.destroy()});this.mql.removeListener(this.listener);this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";n(this.handlers,function(t){t[e]()})}};u.prototype={register:function(e,t,s){var u=this.queries,a=s&&this.browserIsIncapable;u[e]||(u[e]=new o(e,a));i(t)&&(t={match:t});r(t)||(t=[t]);n(t,function(t){u[e].addHandler(t)});return this},unregister:function(e,t){var n=this.queries[e];if(n)if(t)n.removeHandler(t);else{n.clear();delete this.queries[e]}return this}};e.enquire=e.enquire||new u})(this);