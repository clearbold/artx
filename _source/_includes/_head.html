<!--[if i]><![endif]-->
<!doctype html>
<!--[if lte IE 8]>     <html class="no-js lt-ie10 lt-ie9 " lang="en"> <![endif]-->
<!--[if IE 9]>         <html class="no-js lt-ie10 modern" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js modern" lang="en" manifest="cache.appcache"> <!--<![endif]-->
<head>
    <meta charset="utf-8" />

    <title>{{ page.title }} - ArtX</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <link rel="shortcut icon" sizes="16x16" href="/favicon.ico" />
    <link rel="shortcut icon" sizes="32x32" href="/ui/img/favicon-32px.png" />
    <!-- non-retina iPhone pre iOS 7 -->
    <link rel="apple-touch-icon" href="/ui/img/favicon-57px.png" sizes="57x57">
    <!-- non-retina iPad pre iOS 7 -->
    <link rel="apple-touch-icon" href="/ui/img/favicon-72px.png" sizes="72x72">
    <!-- non-retina iPad iOS 7 -->
    <link rel="apple-touch-icon" href="/ui/img/favicon-76px.png" sizes="76x76">
    <!-- retina iPhone pre iOS 7 -->
    <link rel="apple-touch-icon" href="/ui/img/favicon-114px.png" sizes="114x114">
    <!-- retina iPhone iOS 7 -->
    <link rel="apple-touch-icon" href="/ui/img/favicon-120px.png" sizes="120x120">
    <!-- retina iPad pre iOS 7 -->
    <link rel="apple-touch-icon" href="/ui/img/favicon-144px.png" sizes="144x144">
    <!-- retina iPad iOS 7 -->
    <link rel="apple-touch-icon" href="/ui/img/favicon-152px.png" sizes="152x152">

    <!-- Windows 8 / RT -->
    <meta name="msapplication-TileImage" content="/ui/img/favicon-144px.png" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    
    <!-- Styles -->
    <link rel="stylesheet" href="ui/css/styles.css" />

    <script src="ui/js/standalone/modernizr-2.7.1.min.js"></script>

    <!-- JavaScript -->

    <script type="text/javascript">
        (function(document,navigator,standalone) {
            // prevents links from apps from oppening in mobile safari
            // this javascript must be the first script in your <head>
            if ((standalone in navigator) && navigator[standalone]) {
                var curnode, location=document.location, stop=/^(a|html)$/i;
                document.addEventListener('click', function(e) {
                    curnode=e.target;
                    while (!(stop).test(curnode.nodeName)) {
                        curnode=curnode.parentNode;
                    }
                    // Conditions to do this only on links to your own app
                    // if you want all links, use if('href' in curnode) instead.
                    console.log("Has class? " + $(curnode).hasClass("functionality-trigger"));

                    if(
                        'href' in curnode && // is a link
                        (chref=curnode.href).replace(location.href,'').indexOf('#') && // is not an anchor
                        (   !(/^[a-z\+\.\-]+:/i).test(chref) ||                       // either does not have a proper scheme (relative links)
                            chref.indexOf(location.protocol+'//'+location.host)===0 ) // or is in the same protocol and domain
                        && e.defaultPrevented !== true // and the default behavior of the link is not prevented already
                        && (!$(curnode).hasClass("functionality-trigger")) // and it's not a link I've tagged as a functionality trigger
                    ) {
                        e.preventDefault();
                        location.href = curnode.href;
                    }
                },false);
            }
        })(document,window.navigator,'standalone');
    </script>

    <!--[if (lt IE 9) & (!IEMobile)]>
    <script src="/ui/js/standalone/respond.min.js"></script>
    <![endif]-->

    <!-- Detect IE10 and insert a CSS class in the HTML element -->
    <!--[if !IE]><!--><script>
    if (/*@cc_on!@*/false) {
        document.documentElement.className+=' ie10';
    }
    </script><!--<![endif]-->

    <!-- Responsive fix for certain Windows phones -->
    <script>
    (function() {
        if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            msViewportStyle.appendChild(
                document.createTextNode("@-ms-viewport{width:auto!important}")
            );
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
    })();
    </script>
    
    <!-- Developer note: Angela put MapBox here -->
    <script src='https://api.tiles.mapbox.com/mapbox.js/v2.0.0/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.0.0/mapbox.css' rel='stylesheet' />

</head>